controller:
  type: statefulset
persistence:
  config:
    enabled: true
    accessMode: ReadWriteOnce
    storageClass: local-path
    size: 4Gi
    readOnly: false
ingress:
  main:
    annotations:
      kubernetes.io/ingress.class: "nginx"
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
      external-dns.alpha.kubernetes.io/hostname: "ha.example.com."
      external-dns.alpha.kubernetes.io/cloudflare-proxied: "false"
      external-dns.alpha.kubernetes.io/ttl: "120"
    enabled: true
    hosts:
      - host: ha.example.com
        paths:
          - path: /
            pathType: Prefix
            service:
              port: 8123
    tls:
    - secretName: ha-tls
      hosts:
        - ha.example.com

postgresql:
  enabled: true
  global:
    postgresql:
      auth:
        database: home-assistant
        existingSecret: home-assistant
  primary:
    persistence:
      enabled: true
      storageClass: local-path
      accessModes:
        - ReadWriteOnce
service:
  main:
    ports:
      http:
        port: 8123